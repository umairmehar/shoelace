import{r as t,c as s,a as i,h as e}from"./p-25e7eff4.js";const n=new Map,h=new Map,o=new DOMParser,r=class{constructor(i){t(this,i),this.slLoad=s(this,"slLoad",7),this.slError=s(this,"slError",7)}handleChange(){this.setIcon()}componentDidLoad(){this.setIcon()}getLabel(){let t="";return this.label?t=this.label:this.name?t=this.name.replace(/-/g," "):this.src&&(t=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.svg/i,"")),t}setIcon(){(t=>{let s=h.get(t);return s||(s=fetch(t).then(async s=>{if(s.ok){const i=document.createElement("div");i.innerHTML=await s.text();const e=i.firstElementChild;return e&&"svg"===e.tagName.toLowerCase()?(n.set(t,i.innerHTML),e.outerHTML):(console.warn("Invalid SVG icon: "+t),"")}return""}),h.set(t,s)),s})(this.name?i(`/icons/${this.name}.svg`):this.src).then(t=>{const s=o.parseFromString(t,"text/html").body.querySelector("svg");s?(this.svg=s.outerHTML,this.slLoad.emit()):(this.svg="",this.slError.emit())}).catch(t=>this.slError.emit(t))}render(){return e("div",{part:"base",class:"icon",role:"img","aria-label":this.getLabel(),innerHTML:this.svg})}static get assetsDirs(){return["icons"]}static get watchers(){return{name:["handleChange"],src:["handleChange"]}}};r.style=":host{position:relative;box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}:host{display:inline-block;width:1em;height:1em;contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%}";export{r as sl_icon}